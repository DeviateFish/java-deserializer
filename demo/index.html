<!DOCTYPE html>
<html>
  <head>
    <title>java-deserializer demo</title>
    <link rel="stylesheet" href="./assets/normalize.css" />
    <link rel="stylesheet" href="./assets/main.css" />
  </head>
  <body>
    <h1>java-deserializer demo</h1>

    <!-- begin demo markup -->

    <pre id="output"></pre>

    <!-- end demo markup -->

    <p>See the <a href="http://DeviateFish.github.io/java-deserializer">project homepage</a>.
    <p>Check out the <a href="https://github.com/DeviateFish/java-deserializer">project repo</a>.
    <p>Copyright 2014 Daniel Benton</p>

    <script src="./../dist/java-deserializer.js"></script>

    <script>
      /* begin demo script */

      function loadResource(url, callback)
      {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', url);
        xhr.responseType = 'arraybuffer';
        xhr.onload = function() {
          callback(null, this.response);
        };
        xhr.onerror = function(e) {
          callback(e, null);
        };

        xhr.send();
      };

      loadResource('/demo/assets/ft_waypoint.obj', function(err, buf) {
        var n = new JavaDeserializer(buf);
        var repr = n.getContents();
        document.getElementById('output').innerHTML = JSON.stringify(repr, null, 2);
      })

      /* end demo script */
    </script>
  </body>
</html>
