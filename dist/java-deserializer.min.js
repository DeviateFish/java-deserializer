var JavaDeserializer=function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.buffer=e,this.dataview=new DataView(e),this.currentOffset=0}return n(t,[{key:"getLength",value:function(){return this.dataview.byteLength}},{key:"getPosition",value:function(){return this.currentOffset}},{key:"readUint32",value:function(){var t=this.dataview.getUint32(this.currentOffset);return this.currentOffset+=4,t}},{key:"readUint16",value:function(){var t=this.dataview.getUint16(this.currentOffset);return this.currentOffset+=2,t}},{key:"readUint8",value:function(){var t=this.dataview.getUint8(this.currentOffset);return this.currentOffset++,t}},{key:"readInt32",value:function(){var t=this.dataview.getInt32(this.currentOffset);return this.currentOffset+=4,t}},{key:"readInt16",value:function(){var t=this.dataview.getInt16(this.currentOffset);return this.currentOffset+=2,t}},{key:"readInt8",value:function(){var t=this.dataview.getInt8(this.currentOffset);return this.currentOffset++,t}},{key:"readFloat32",value:function(){var t=this.dataview.getFloat32(this.currentOffset);return this.currentOffset+=4,t}},{key:"readUtf8String",value:function(){for(var t=this.readUint16(),e="",r=0;r<t;r++)e+=String.fromCharCode(this.readUint8());return e}},{key:"readFloat32Array",value:function(t){for(var e=new Float32Array(t),r=0;r<t;r++)e[r]=this.readFloat32();return e}},{key:"readUint16Array",value:function(t){for(var e=new Uint16Array(t),r=0;r<t;r++)e[r]=this.readUint16();return e}},{key:"readUint8Array",value:function(t){var e=new Uint8Array(this.buffer,this.currentOffset,t);return this.currentOffset+=t,e}}]),t}();e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),s=(n=i)&&n.__esModule?n:{default:n};var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.buffer=e,this.stream=new s.default(e),this.repr=null,this.refs=[],this._checkMagic()}return a(t,[{key:"_checkMagic",value:function(){if(44269!==this.stream.readUint16())throw"invalid magic number!";if(5!==this.stream.readUint16())throw"invalid version!"}},{key:"_readClassDescription",value:function(){var t=this.stream.readUint8(),e={};if(112!==t){if(113===t){var r=this.stream.readUint32()-8257536;return this.refs[r]}if(114===t){e.name=this.stream.readUtf8String(),e.versionId=[this.stream.readUint32(),this.stream.readUint32()],e.handle=this.refs.length,e.flags=this.stream.readUint8();for(var n=[],a=this.stream.readUint16(),i=0;i<a;i++){var s={};s.type=this.stream.readUint8(),s.name=this.stream.readUtf8String(),-1==="BCDFIJSZ".indexOf(String.fromCharCode(s.type))&&console.log("this is not a primitive type: "+s.type),n.push(s)}return e.fields=n,e.annotation=this.stream.readUint8(),120!==e.annotation&&console.log("I don't know what to do with this: "+e.annotation),e.superClass=this._readClassDescription(),this.refs.push(e),e}console.log("I don't know how to handle this type yet: "+t)}}},{key:"_readArray",value:function(){var t,e,r={},n=this._readClassDescription();r.description=n,r.handle=this.refs.length,e=this.stream.readUint32();var a=n.name;if("[F"===a)r.elements=this.stream.readFloat32Array(e);else if("[S"===a)r.elements=this.stream.readUint16Array(e);else for(r.elements=[],t=0;t<e;t++){var i=this._readChunk();r.elements.push(i)}return this.refs.push(r),r}},{key:"_readBlockData",value:function(){var t=this.stream.readUint8();return this.stream.readUint8Array(t)}},{key:"_readChunk",value:function(){var t=null;switch(this.stream.readUint8()){case 117:t=this._readArray();break;case 119:t=this._readBlockData();break;case 116:t=this.stream.readUtf8String();break;default:console.log("unhandled type")}return t}},{key:"getContents",value:function(){if(this.repr)return this.repr;for(this.repr=[];this.stream.getPosition()<this.stream.getLength();)this.repr.push(this._readChunk());return this.repr}}]),t}();u.VERSION="0.2.0",e.default=u}]);